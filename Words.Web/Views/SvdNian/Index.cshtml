@model NianQueryViewModel

@{
    ViewBag.Title = "Krysshjälpen";
    ViewBag.NianTabClass = "active";
}

@section scripts
{
    <script src="@Url.Content("~/Content/js/nian.index.js")" type="text/javascript"></script>
}

<script type="text/html" id="nian-results">
    <ol>
        <% _.each(anagrams, function(anagram) { %>
        <li>
            <%= anagram %>
        </li>
        <% }); %>
    </ol>
</script>
<div class="row">
    <div class="span8">
        @using (Ajax.BeginForm(
            "Search",
            "SvdNian",
            null,
            new AjaxOptions
            {
                HttpMethod = "GET",
                InsertionMode = System.Web.Mvc.Ajax.InsertionMode.Replace,
                UpdateTargetId = "content",
                LoadingElementId = "progress",
                OnSuccess = "w.searchSuccess",
                OnFailure = "w.searchFailure"
            },
            new { @class = "well form-search" }))
        {
            @Html.TextBoxFor(
                m => m.Text,
                new
                {
                    @class = "input-large",
                    placeholder = "Ange sökterm",
                    autocorrect = "off",
                    autocapitalize = "off",
                    autocomplete = "off",
                    autofocus = "autofocus"
                })
            <button type="submit" class="btn btn-primary">
                <i class="icon-search icon-white"></i>
                Sök
            </button>
            <span id="progress"><img src="@Url.Content("~/Content/images/spinner.gif")" alt="Spinner" /></span>
        }
    </div>
</div>

<div id="content">
    @Html.Partial("_NianHelp")
</div>
